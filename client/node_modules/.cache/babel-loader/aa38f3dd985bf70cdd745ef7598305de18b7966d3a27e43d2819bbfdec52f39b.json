{"ast":null,"code":"var _jsxFileName = \"/Users/jamiegleason/projects/humble-pearl/client/src/contexts/ItemContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ItemContext = /*#__PURE__*/createContext();\nexport const useItems = () => {\n  _s();\n  const context = useContext(ItemContext);\n  if (!context) {\n    throw new Error('useItems must be used within an ItemProvider');\n  }\n  return context;\n};\n_s(useItems, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport const ItemProvider = ({\n  children\n}) => {\n  _s2();\n  const [items, setItems] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [pagination, setPagination] = useState({\n    page: 1,\n    limit: 10,\n    total: 0,\n    pages: 0\n  });\n  const fetchItems = async (params = {}) => {\n    setLoading(true);\n    try {\n      const response = await axios.get('/api/items', {\n        params\n      });\n      setItems(response.data.items);\n      setPagination(response.data.pagination);\n    } catch (error) {\n      console.error('Failed to fetch items:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchItem = async id => {\n    try {\n      const response = await axios.get(`/api/items/${id}`);\n      return response.data;\n    } catch (error) {\n      console.error('Failed to fetch item:', error);\n      throw error;\n    }\n  };\n  const createItem = async itemData => {\n    try {\n      const response = await axios.post('/api/items', itemData);\n      setItems(prev => [response.data, ...prev]);\n      return response.data;\n    } catch (error) {\n      console.error('Failed to create item:', error);\n      throw error;\n    }\n  };\n  const updateItem = async (id, itemData) => {\n    try {\n      const response = await axios.put(`/api/items/${id}`, itemData);\n      setItems(prev => prev.map(item => item.id === id ? {\n        ...item,\n        ...itemData\n      } : item));\n      return response.data;\n    } catch (error) {\n      console.error('Failed to update item:', error);\n      throw error;\n    }\n  };\n  const deleteItem = async id => {\n    try {\n      await axios.delete(`/api/items/${id}`);\n      setItems(prev => prev.filter(item => item.id !== id));\n    } catch (error) {\n      console.error('Failed to delete item:', error);\n      throw error;\n    }\n  };\n  const fetchCategories = async () => {\n    try {\n      const response = await axios.get('/api/items/categories/list');\n      return response.data;\n    } catch (error) {\n      console.error('Failed to fetch categories:', error);\n      return [];\n    }\n  };\n  const value = {\n    items,\n    loading,\n    pagination,\n    fetchItems,\n    fetchItem,\n    createItem,\n    updateItem,\n    deleteItem,\n    fetchCategories\n  };\n  return /*#__PURE__*/_jsxDEV(ItemContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 5\n  }, this);\n};\n_s2(ItemProvider, \"ip9HVvInk33WFSMeP3JlJ4wzLTE=\");\n_c = ItemProvider;\nvar _c;\n$RefreshReg$(_c, \"ItemProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","axios","jsxDEV","_jsxDEV","ItemContext","useItems","_s","context","Error","ItemProvider","children","_s2","items","setItems","loading","setLoading","pagination","setPagination","page","limit","total","pages","fetchItems","params","response","get","data","error","console","fetchItem","id","createItem","itemData","post","prev","updateItem","put","map","item","deleteItem","delete","filter","fetchCategories","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/jamiegleason/projects/humble-pearl/client/src/contexts/ItemContext.js"],"sourcesContent":["import React, { createContext, useContext, useState } from 'react';\nimport axios from 'axios';\n\nconst ItemContext = createContext();\n\nexport const useItems = () => {\n  const context = useContext(ItemContext);\n  if (!context) {\n    throw new Error('useItems must be used within an ItemProvider');\n  }\n  return context;\n};\n\nexport const ItemProvider = ({ children }) => {\n  const [items, setItems] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [pagination, setPagination] = useState({\n    page: 1,\n    limit: 10,\n    total: 0,\n    pages: 0\n  });\n\n  const fetchItems = async (params = {}) => {\n    setLoading(true);\n    try {\n      const response = await axios.get('/api/items', { params });\n      setItems(response.data.items);\n      setPagination(response.data.pagination);\n    } catch (error) {\n      console.error('Failed to fetch items:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchItem = async (id) => {\n    try {\n      const response = await axios.get(`/api/items/${id}`);\n      return response.data;\n    } catch (error) {\n      console.error('Failed to fetch item:', error);\n      throw error;\n    }\n  };\n\n  const createItem = async (itemData) => {\n    try {\n      const response = await axios.post('/api/items', itemData);\n      setItems(prev => [response.data, ...prev]);\n      return response.data;\n    } catch (error) {\n      console.error('Failed to create item:', error);\n      throw error;\n    }\n  };\n\n  const updateItem = async (id, itemData) => {\n    try {\n      const response = await axios.put(`/api/items/${id}`, itemData);\n      setItems(prev => prev.map(item => \n        item.id === id ? { ...item, ...itemData } : item\n      ));\n      return response.data;\n    } catch (error) {\n      console.error('Failed to update item:', error);\n      throw error;\n    }\n  };\n\n  const deleteItem = async (id) => {\n    try {\n      await axios.delete(`/api/items/${id}`);\n      setItems(prev => prev.filter(item => item.id !== id));\n    } catch (error) {\n      console.error('Failed to delete item:', error);\n      throw error;\n    }\n  };\n\n  const fetchCategories = async () => {\n    try {\n      const response = await axios.get('/api/items/categories/list');\n      return response.data;\n    } catch (error) {\n      console.error('Failed to fetch categories:', error);\n      return [];\n    }\n  };\n\n  const value = {\n    items,\n    loading,\n    pagination,\n    fetchItems,\n    fetchItem,\n    createItem,\n    updateItem,\n    deleteItem,\n    fetchCategories\n  };\n\n  return (\n    <ItemContext.Provider value={value}>\n      {children}\n    </ItemContext.Provider>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}